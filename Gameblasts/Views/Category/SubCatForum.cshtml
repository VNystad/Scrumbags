@model Gameblasts.Models.CategoryModels.CategoryModel

@if (@Model.parent != null)
{
<h1> @Model.parent.name </h1>
}
<h2> @Model.name</h2>

@for (int i = 0; i < Model.children.Count; i++)
{
    Html.RenderPartial("CategoryPartial/_DisplayCategory", Model.children[i]);
    @(await Component.InvokeAsync<ViewComponents.CategoryViewComponent>(new Gameblasts.Models.CategoryModels.CategoryFormModel(Model.children[i].name, Model.id)))
}

@if (Model.threads.Count != 0)
{
    @(await Component.InvokeAsync<ViewComponents.Post>(new Gameblasts.Models.CategoryModels.PostComponentFormModel(10, @Model.id) ))
}

   @using (Html.BeginForm("AddCategory", "Category", "CategoryFormModel"))
    {
        @Html.Hidden("parentID", @Model.id)
        <button type="submit" class="btn btn-default">Add subcategory</button>
    }

