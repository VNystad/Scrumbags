@model Gameblasts.Models.CategoryModels.CategoryModel

<a asp-controller="Category" asp-action="ForumPost" class="btn btn-info" role="button" asp-route-id="@Model">Create a new thread</a>
@using (Html.BeginForm("ForumPost", "Category"))
    {
        @Html.Hidden("name", @Model.name)
        @Html.Hidden("parent", @Model.parent)
        @Html.Hidden("children", @Model.children)
        @Html.Hidden("threads", @Model.threads)
        <button type="submit" class="btn btn-default">Add Category</button>
    }

<div class="form-group">

@for (int i = 0; i < Model.threads.Count; i++)
{
            Html.RenderPartial("_Post", Model.threads[i]);
}

@for (int i = 0; i < Model.children.Count; i++)
{
    Html.RenderPartial("CategoryPartial/_DisplayCategory", Model.children[i]);
    @(await Component.InvokeAsync<ViewComponents.CategoryViewComponent>(new Gameblasts.Models.CategoryModels.CategoryFormModel(Model.children[i].name, Model.id)))
}

